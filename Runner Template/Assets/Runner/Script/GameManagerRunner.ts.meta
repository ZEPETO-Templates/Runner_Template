fileFormatVersion: 2
guid: 5c4ffbe5e0e29914fbaaf9589195c5d5
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    ZEPETO_Character_Controller_1 = require(\"ZEPETO.Character.Controller\");\r\nconst
    ZEPETO_World_1 = require(\"ZEPETO.World\");\r\nconst TimerManagerRunner_1 = require(\"./TimerManagerRunner\");\r\nconst
    LevelGenerator_1 = require(\"./LevelGenerator\");\r\nconst ScoreManager_1 = require(\"./ScoreManager\");\r\nconst
    UIManager_1 = require(\"./UIManager\");\r\nclass GameManagerRunner extends UnityEngine_1.MonoBehaviour
    {\r\n    Awake() {\r\n        if (GameManagerRunner.Instance == null)\r\n           
    GameManagerRunner.Instance = this;\r\n        else\r\n            UnityEngine_1.GameObject.Destroy(this);\r\n   
    }\r\n    Start() {\r\n        // Instance of the player zepeto\r\n        $extension(\"ZEPETO.Character.Controller.ZepetoPlayersExtension\").CreatePlayerWithUserId(ZEPETO_Character_Controller_1.ZepetoPlayers.instance,
    ZEPETO_World_1.WorldService.userId, new ZEPETO_Character_Controller_1.SpawnInfo(),
    true);\r\n        // The instantiation can take a few seconds, the following
    lines are executed once this happens\r\n        ZEPETO_Character_Controller_1.ZepetoPlayers.instance.OnAddedLocalPlayer.AddListener(()
    => {\r\n            this._zepetoCharacter = ZEPETO_Character_Controller_1.ZepetoPlayers.instance.LocalPlayer.zepetoPlayer.character;\r\n           
    this._zepetoCharacter.transform.position = this.playerSpawnPoint.transform.position;\r\n           
    this._zepetoCharacter.transform.Rotate(new UnityEngine_1.Vector3(0, 90, 0));\r\n           
    this._zepetoCharacter.gameObject.tag = \"Player\";\r\n            this._zepetoCharacter.gameObject.SetActive(false);\r\n           
    UIManager_1.default.Instance.OnStart();\r\n        });\r\n    }\r\n    // When
    starting the game, the parameters are restored and the blocks start moving\r\n   
    OnGameStart() {\r\n        TimerManagerRunner_1.default.Instance.StartTimer();\r\n       
    LevelGenerator_1.default.Instance.InitializeLevel();\r\n        this._zepetoCharacter.gameObject.SetActive(true);\r\n       
    this._zepetoCharacter.Teleport(this.playerSpawnPoint.transform.position, this.playerSpawnPoint.transform.rotation);\r\n       
    setTimeout(() => LevelGenerator_1.default.Instance.SetBlocksMovement(true), 1500);\r\n       
    UIManager_1.default.Instance.OnStartGame();\r\n    }\r\n    // This method resets
    the entire game state and will start the level again\r\n    OnGameReset() {\r\n       
    LevelGenerator_1.default.Instance.ResetLevel();\r\n        ScoreManager_1.default.Instance.ResetPoints();\r\n       
    TimerManagerRunner_1.default.Instance.ResetTimer();\r\n        this.OnGameStart();\r\n   
    }\r\n    // At the end of the game, the blocks are stopped and the UI is updated\r\n   
    OnGameOver() {\r\n        this._zepetoCharacter.gameObject.SetActive(false);\r\n       
    LevelGenerator_1.default.Instance.SetBlocksMovement(false);\r\n        UIManager_1.default.Instance.OnGameOver();\r\n   
    }\r\n}\r\nexports.default = GameManagerRunner;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2FtZU1hbmFnZXJSdW5uZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJHYW1lTWFuYWdlclJ1bm5lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDZDQUFpRTtBQUNqRSw2RUFBd0Y7QUFDeEYsK0NBQTRDO0FBQzVDLDZEQUFzRDtBQUN0RCxxREFBOEM7QUFDOUMsaURBQTBDO0FBQzFDLDJDQUFvQztBQUVwQyxNQUFxQixpQkFBa0IsU0FBUSwyQkFBYTtJQVNqRCxLQUFLO1FBRVIsSUFBSSxpQkFBaUIsQ0FBQyxRQUFRLElBQUksSUFBSTtZQUFFLGlCQUFpQixDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7O1lBQ3JFLHdCQUFVLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRCxLQUFLO1FBRUQsZ0NBQWdDO1FBQ2hDLGlFQUF1QixzQkFBc0IsQ0FBN0MsMkNBQWEsQ0FBQyxRQUFRLEVBQXdCLDJCQUFZLENBQUMsTUFBTSxFQUFFLElBQUksdUNBQVMsRUFBRSxFQUFFLElBQUksRUFBRTtRQUUxRiwrRkFBK0Y7UUFDL0YsMkNBQWEsQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRTtZQUN2RCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsMkNBQWEsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUM7WUFFbEYsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7WUFDcEYsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxxQkFBTyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM5RCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLEdBQUcsR0FBRyxRQUFRLENBQUM7WUFDaEQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbEQsbUJBQVMsQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDakMsQ0FBQyxDQUFDLENBQUM7SUFFUCxDQUFDO0lBRUQsa0ZBQWtGO0lBQzNFLFdBQVc7UUFFZCw0QkFBa0IsQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDekMsd0JBQWMsQ0FBQyxRQUFRLENBQUMsZUFBZSxFQUFFLENBQUM7UUFFMUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRW5ILFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyx3QkFBYyxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUV4RSxtQkFBUyxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNyQyxDQUFDO0lBRUQsMEVBQTBFO0lBQ25FLFdBQVc7UUFFZCx3QkFBYyxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNyQyxzQkFBWSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNwQyw0QkFBa0IsQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLENBQUM7UUFFekMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCx1RUFBdUU7SUFDaEUsVUFBVTtRQUViLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2xELHdCQUFjLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2pELG1CQUFTLENBQUMsUUFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQ3BDLENBQUM7Q0FFSjtBQWxFRCxvQ0FrRUMifQ==","assetPath":"Assets/Runner/Script/GameManagerRunner.ts","manifest":{"properties":[{"assembly":"mscorlib","name":"isGameRunning","type":"System.Boolean","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"playerSpawnPoint","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]}],"name":"GameManagerRunner","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: 24324fceef4158a0814b06a929ebac8e
  onlyWriteTrigger: 0
